*******       OpenAPI   ************

OpenAPI (formerly Swagger) is a standard specification used to describe REST APIs.
Key Points

Defines endpoints, request/response formats, parameters, headers, security, etc.
Written in YAML or JSON.
Helps automate:
API documentation
Client SDK generation
Server stub generation
API testing (Postman, Rest Assured, Karate, etc.)
Temenos exposes its services through the Interaction Framework (IF) or REST services, and each service has an OpenAPI (Swagger) specification that describes:
API endpoint
Request/response structure
Parameters
Authentication
Error codes
Field validation rules
T24 function to trigger (e.g., enrichment, commit, COB, etc.)
* This is a blueprint for QA to understand the T24 service without reading COB tables or internal code.

Step 1: Read the OpenAPI Spec  --> Understand all fields, constraints, and sample payloads.
Step 2: Prepare Test Payload --> Create valid/invalid payloads based on OpenAPI.
Step 3: Trigger T24 API --> Call the REST API using Postman/automation scripts.
Step 4: Validate API Response
Check: HTTP code, Error messages, T24 transaction ID, Business rule execution
Step 5: Validate T24 Database --> In AA/AC/FT tables after commit.
Step 6: Validate End-to-End Flow  --> T24 ‚Üí Middleware ‚Üí Channels ‚Üí Notifications ‚Üí Accounting entries.

T24 Component Testing
Temenos T24 has modules:
AA (Arrangement Architecture)
CB (Core Banking)
COB (Close of Business)
FT (Funds Transfer)
PM (Payments)
LC (Lending)


**************   AVRO  **********************
It is used in the integration layer when T24 communicates with:
Kafka
Enterprise Service Bus (ESB)
Data Lake / Analytics
Downstream systems (Cards, AML, CRM, Notifications)
üëâ T24 ‚Üí Middleware ‚Üí Kafka (Avro messages)

Flow  --->
API call hits T24 (OpenAPI)
T24 validates & commits data
Event generated
Event serialized in Avro
Published to Kafka topic
Consumers read Avro event

Where AVRO is used in T24  -->
üìå 1. Customer Events -> Customer Created , KYC Updated , CIF Modified
üìå 2. Account Events --> Account Opened , Balance Updated , Account Closed
üìå 3. Transaction Events --> Funds Transfer , Card transaction , Loan disbursement
üìå 4. Loan & AA Events --> Loan approved , Installment posted , Loan closed


JUnit Test
  ‚Üì
OpenAPI Generated Client
  ‚Üì
T24 API
  ‚Üì (on success)
Kafka Topic (Avro event)






*******************          T24 service configuration records.   **************


TSA.SERVICE,
AUTO/I/PROCESS,
AUTOMATION01/******/SG0020001,
HKD^JBWW.B.DX.FXOPTIONS.PROCESS,
SERVICE.CONTROL::=AUTO


Note --> ‚ÄúThis background process is allowed to run automatically (AUTO) without manual intervention.‚Äù
Without this:
Your OFS automation will fail
Trades will be created but not processed
Accounting / lifecycle will not move forward

| Part                        | Meaning                                     |
| --------------------------- | ------------------------------------------- |
| TSA.SERVICE                 | T24 table that controls background services |
| AUTO/I/PROCESS              | Type of service (Automatic Input / Process) |
| AUTOMATION01                | User used to run automation                 |
| SG0020001                   | Company/booking entity                    |
| HKD                         | Currency                                    |
| JBWW.B.DX.FXOPTIONS.PROCESS | Actual business engine                      |
| SERVICE.CONTROL::=AUTO      | Enable auto execution                       |


T24 is strict about: Currency, Product, Process type, Company

FX OPTIONS Processing -->   JBWW.B.DX.FXOPTIONS.PROCESS    ---> 
üëâ Handles:
FX Option trade processing
Lifecycle events
Valuation triggers

FX STRUCTURES Processing  --> FX STRUCTURES Processing  ---> 
üëâ Handles:
Structured FX products
Combination instruments
Strategy-level processing

FX CASH Processing -->  JBWW.D.FX.CASH.PROCESS --> 
üëâ Handles:
Cash leg settlements
Debit/credit postings
Nostro movements

OFS Message Service -->  BNK^OFS.MESSAGE.SERVICE -->
It allows:
OFS messages to be accepted
Requests to be processed
Responses to be returned

SERVICE.CONTROL::=AUTO -->  ‚ÄúRun this service automatically in background when needed.‚Äù
MANUAL ‚Üí someone must trigger it
STOPPED ‚Üí nothing happens
AUTO ‚Üí perfect for automation

SERVER.NAME=NULL --> 
Simple meaning:
Service can run on any available T24 server
No server pinning
Better for automation & load

automation user AUTOMATION01  ---> 
Because:
Automation should not use real users
Easier auditing
Controlled permissions






STEP 0Ô∏è‚É£ Preconditions (Before Automation Runs)
These must already be true, otherwise nothing works:
TSA.SERVICE records = AUTO ‚úÖ
Automation user = AUTOMATION01 ‚úÖ
Reference data exists (Customer, Portfolio, Currency) ‚úÖ
STEP 1Ô∏è‚É£ Automation Sends OFS Message
Your automation sends an OFS message like:
OFS.MESSAGE:
APPLICATION=FXOPTION
FUNCTION=I
FIELDS=...
* FXOPTION ‚Üí Product
  I ‚Üí Input (create trade)

STEP 2Ô∏è‚É£ OFS MESSAGE SERVICE PICKS IT UP
Service involved:
BNK^OFS.MESSAGE.SERVICE
What it does:
Accepts the OFS message
Authenticates AUTOMATION01
Routes request to correct the T24 application

STEP 3Ô∏è‚É£ Trade Record Is Created (Input Stage)
Now T24:
Creates FX Option record
Assigns contract ID
Saves basic trade data

STEP 4Ô∏è‚É£ FX OPTION PROCESS ENGINE STARTS
Service triggered: JBWW.B.DX.FXOPTIONS.PROCESS
This is where real work starts:
Validations
Lifecycle setup
Internal status updates
If this service is not AUTO: Trade stays in limbo, Status looks incomplete

STEP5Ô∏è‚É£ FX STRUCTURE PROCESS (If Applicable)
Service:JBWW.B.SY.FXSTRUCTURES.PROCESS
Triggered when:
Structured FX product
Strategy / multi-leg trades

What it does: Breaks trade into components
Links structure hierarchyüëâ Even plain FX options may touch this internally.

STEP 6Ô∏è‚É£ FX CASH PROCESS (Accounting)
Service: JBWW.D.FX.CASH.PROCESS
This is an accounting engine üßæ
It:
Post debit/credit entries
Updates accounts
Creates settlement legs
üí° This is what automation later validates via enquiries.

STEP 7Ô∏è‚É£ Internal Status = COMPLETED
At this point: Trade status = Active
Accounting posted
Lifecycle ready
üëâ From an automation perspective: Business flow is completed

STEP 8Ô∏è‚É£ Outbound Events (Optional ‚Äì TIS / Kafka)
If TIS is enabled:
T24 publishes outbound messages
Kafka topics get populated
Your automation may:
Consume Kafka
Validate payload
Match trade IDs

STEP 9Ô∏è‚É£ Automation Validates Results
Now your validators run:
Examples:
OFS Enquiry:
Trade exists
Correct status
Accounting enquiry:
Debit / Credit posted
Message validation: Kafka payload correct
üëâ Same scenario, different validator implementations.

üîÅ Whole Flow in One Line
OFS ‚Üí Message Service ‚Üí Trade Input ‚Üí FX Engine ‚Üí Accounting ‚Üí Validation

| Service              | Why Needed               |
| -------------------- | ------------------------ |
| OFS.MESSAGE.SERVICE  | Accepts automation input |
| FXOPTIONS.PROCESS    | Processes trade          |
| FXSTRUCTURES.PROCESS | Handles structure        |
| FX.CASH.PROCESS      | Posts accounting         |










